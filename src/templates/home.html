<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<title>Book Library</title>
	<link rel="shortcut icon" href="%%SERVERURL%%/res/icon.svg">
	<link rel="stylesheet" type="text/css" href="%%SERVERURL%%/lib/bootstrap.min.css">
	<style>
		.card-book:hover {
			transform: scale(1.05);
			box-shadow: 0 10px 20px rgba(0,0,0,.12), 0 4px 8px rgba(0,0,0,.06);
		}
	</style>
</head>


<body class="bg-light">
	<nav class="navbar navbar-dark bg-dark justify-content-between">
		<a class="navbar-brand text-white">
			<img src="%%SERVERURL%%/res/icon.svg" width="30" height="30"
					class="d-inline-block align-top" alt="" loading="lazy">
			Book Library
		</a>
		<div>
			<button class="btn btn-outline-danger my-2 my-sm-0"
					onclick="window.location.href = '%%SERVERURL%%/index.php?logout';">
				Logout
			</button>
		</div>
	</nav>

	<div class="container-fluid">
		<div class="row">
			<aside class="col-2 px-0 mt-3 fixed">
				<div class="bg-dark text-white px-3">
					<br>
					<div><span class="h5">Types</span></div>
					<hr class="col-0 px-0 bg-white">
					<div>
						%%ALLTYPES%%
					</div>
					<hr class="col-0 px-0 bg-white">
					<div><span class="h5">Categories</span></div>
					<hr class="col-0 px-0 bg-white">
					<div class="pb-2">
						%%ALLCATS%%
					</div>
				</div>
			</aside>
			
			<main class="col h-100">
				<div class="row">
					<div class="col-12 py-4">
						<form class="form-inline my-2 my-lg-0" method="get">
							<input id="search" class="form-control" type="search"
									placeholder="Search" name="SEARCHVAL">
							<button class="btn btn-outline-dark ml-0" type="submit">Search</button>
							<select id="sort" class="form-control ml-3" name="SORTVAL"
									onchange="this.form.submit();">
								<option value="newest">Newest</option>
								<option value="alphabetical">Alphabetical</option>
								<option value="mostread">Most read</option>
							</select>
						</form>
						<hr class="bg-dark">
						<div class="col-12 container row justify-content-center align-self-center">
							<div class="card" style="width: 16rem;">
								<div class="card-body">
									<p class="font-weight-bold text-success display-2">%%TOTALREAD%%</p>
									<p class="card-text text-center h5">books read so far</p>
								</div>
							</div>
							<div class="card ml-3" style="width: 16rem;">
								<div class="card-body">
									<p class="font-weight-bold text-primary display-2">%%AVERAGEREAD%%</p>
									<p class="card-text text-center h5">books read per month average</p>
								</div>
							</div>
							<div class="card ml-3" style="width: 16rem;">
								<div class="card-body">
									<p class="font-weight-bold text-info display-2">%%LASTYEARREAD%%</p>
									<p class="card-text text-center h5">books read in the last 365 days</p>
								</div>
							</div>
						</div>
						<hr class="bg-dark">
						<div class="pb-3">
							<form class="form-inline my-2 my-lg-0" method="get">
								<button class="btn btn-outline-primary ml-0" type="submit" name="refreshDB">
									&#8635; Refresh database
								</button>
							</form>
						</div>
						<div>
							<div class="container row justify-content-left align-self-left">
								<h6><span class="mr-3">Selected types</span></h6>
								<div id="typesBadges">
									<span class="badge badge-dark">All</span>
								</div>
							</div>
							<div class="container row justify-content-left align-self-left">
								<h6><span class="mr-3">Selected categories</span></h6>
								<div id="categoriesBadges">
									<span class="badge badge-dark">All</span>
								</div>
							</div>
						</div>
						<div class="col-12 container row justify-content-center align-self-center">
							%%BOOKOVERVIEW%%
						</div>
					</div>
				</div>
			</main>
		</div>
	</div>

	<script>
		const SERVERURL = '%%SERVERURL%%';
	</script>

	<script language="javascript" src="%%SERVERURL%%/lib/jquery.js"></script>
	<script language="javascript" src="%%SERVERURL%%/js/state.js"></script>
	<script language="javascript" src="%%SERVERURL%%/js/Filter.js"></script>
</body>
</html>